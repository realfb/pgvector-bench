================================================================================
Query: vector_join_no_filter
Timestamp: 2025-09-28T23:22:36.179101
================================================================================

QUERY:
----------------------------------------
SELECT c.id
               FROM user_document_chunks c
               JOIN user_documents d ON c.user_document_id = d.id
               ORDER BY c.embedding <#> %s::vector
               LIMIT 10

Parameters: 1 provided

EXECUTION PLAN:
----------------------------------------
Limit  (cost=2440.06..2466.44 rows=10 width=12) (actual time=0.779..0.820 rows=10 loops=1)
  Buffers: shared hit=1172
  ->  Nested Loop  (cost=2440.06..81580.41 rows=30000 width=12) (actual time=0.778..0.819 rows=10 loops=1)
        Buffers: shared hit=1172
        ->  Index Scan using idx_chunks_embedding_hnsw on user_document_chunks c  (cost=2439.77..79889.00 rows=30000 width=26) (actual time=0.759..0.764 rows=10 loops=1)
              Order By: (embedding <#> '[0.024665257,0.020873947,0.14744125,0.42536694,0.08711464,0.03278918,0.018492077,-0.37581035,0.24620771,0.55906075,-0.48470443,-0.18554643,0.038003605,0.43712303,-0.008568315,0.057824377,0.58752495,-0.19476366,-0.3765959,0.0018318258,-0.15058944,0.27596217,0.27061385,0.09593125,0.24863625,-0.3747627,-0.37949917,0.1090579,-0.098249964,-0.080623575,0.13222934,-0.2914614,-0.26484016,0.40980652,-0.3410934,0.49743733,-0.26965716,-0.21568637,-0.62113774,0.4026696,0.47630143,-0.10864083,0.28723,-0.026318047,0.42738292,-0.025938673,0.13213979,0.055137616,-0.0137326205,-0.23035923,0.23852153,-0.38528517,-0.18035375,0.06818505,-0.25773978,0.10241077,-0.003248334,0.77422875,-0.04901645,0.18310937,-0.16969989,0.10413817,-0.6145957,0.18060791,-0.26261586,0.113784604,0.34271023,0.25492954,0.15699598,0.27741164,0.31527048,0.37679666,0.6539132,0.2180547,0.17790644,0.016308904,0.3420658,-0.47247356,0.5085959,-0.16469017,0.16322902,-0.32952854,-0.27825767,-0.025444457,0.0021228131,0.23860542,0.009341647,0.10286522,0.33697957,0.3197021,-0.2473028,-0.31138644,0.05146667,-0.060431395,-0.37552738,0.5252629,0.030961933,-0.31269556,0.42958766,-0.074924365,-0.14913496,-0.17144153,-0.21175607,0.033366576,-0.244843,-0.030357834,-0.26560423,0.23087761,0.14554845,0.028850347,0.26720217,-0.48615932,0.4019773,0.010295966,0.5500592,-0.018518567,0.3469071,-0.16833583,0.21127878,-1.1846956,0.44486168,0.088678025,-0.2787996,-0.16814545,0.46492052,-0.5447897,0.6863338,-0.005631643,0.45365253,0.48900038,-0.42485163,-0.017163133,0.05963592,0.6145913,0.49159855,0.27240476,-0.08492588,0.17704354,-0.4892187,-0.15929715,-0.57199544,0.2248703,0.50331646,-0.015975881,0.114897214,0.47487354,-0.3169482,0.9050511,0.2193393,0.3647478,0.42258808,-0.021142999,-0.4455076,0.2912254,-0.13356319,-0.29700544,0.6930132,0.07918627,-0.72218716,0.24591866,0.8850272,0.42414966,0.5544343,0.31996623,0.1277965,-0.029260179,0.24130437,0.7129168,0.36274534,-0.08376249,0.0754549,-0.1715833,-0.18237863,-0.22472392,0.22524981,-0.08861863,0.0464721,-0.22150588,-0.08528395,-0.18844259,0.24879019,-0.007937938,0.7078438,0.16699134,0.5947571,0.29372376,0.2223954,-0.34466985,-0.4930041,-0.18181373,-0.073658146,0.007630008,0.86013955,-0.023494577,0.5779456,0.244002,0.121883355,0.86924523,-0.116608605,0.8329566,0.7797044,-0.21756776,0.2554457,0.24002565,0.8381391,-0.63253444,-0.08488171,-0.20631075,-0.3499445,-0.21457489,-0.036021404,0.26492172,-0.27077654,0.14068703,0.05181626,0.44116193,-0.44658208,-0.3261735,0.62920105,0.00086630933,0.062592834,0.6707839,-0.19035758,-0.68174607,0.43790653,-0.44365868,-0.60441864,-0.76809597,0.10430833,0.22358222,0.037138376,-0.5006518,-0.05580283,0.21508598,-0.15963057,0.39258876,-0.22664213,0.14236473,0.14896083,-0.09476393,0.41132435,-0.022379348,-0.1737785,0.13075347,0.5133972,-0.11001318,0.20873746,-0.23411505,0.0670884,0.117875084,0.3527557,-0.011509193,-0.4721233,0.63532364,-0.27407154,0.36825833,0.28470352,-0.5420372,-0.004307038,-0.024322312,0.41074345,0.4220845,0.7750844,0.54219437,-0.5090792,-0.18180653,0.13275267,0.69480675,-0.24765103,0.4111164,0.030504737,-0.32772347,-0.12799,-0.23122557,0.3623716,0.052987155,0.6869444,0.76984406,-0.45663288,0.14391814,0.116877966,0.23635688,-0.20502557,-0.15281759,0.15155646,0.8737931,-0.19678274,-0.6092486,-0.61864525,-0.5498701,-0.20483376,0.62004197,-0.013817346,-0.01069772,0.4362523,0.14761682,-0.70843613,0.2538071,0.07483106,0.05942497,0.7094761,-0.7692108,0.33542988,0.51460946,0.1477498,0.09561808,-0.52927274,0.6094856,-0.23358093,0.3858563,0.5192554,-0.35786384,0.024205578,0.97543555,0.42717916,1.3056139,-0.08849354,0.105721846,0.38566345,0.12067195,-0.4964932,-0.48151806,-0.44635662,0.49231666,0.107747234,-0.15642977,0.30459467,-0.3207372,0.1918602,0.3065606,0.13163032,0.16119838,-0.06949379,0.13467129,-0.260429,0.18333793,0.07563794,0.6124813,-0.021394813,-0.6474841,0.22518976,-0.2572181,0.06204664,0.0016198222,0.20457694,0.08820774,0.3194666,0.24480967,0.45889336,0.22371788,0.84325874,-0.18737094,0.06523681,-0.015202964,-0.116596974,0.046390157,0.33732095,-0.08245716,0.77205,-0.22068436,0.24883138,0.40933442,0.0627877,-0.40862718,0.1349136,0.25738782,0.12396223,-0.8182324,0.28991324,0.11024358,0.13630687,-0.19795193,0.09467853,-0.051953357,0.032134958,-0.1592807,-0.22231092,0.27504045,0.50326294,0.11452726,0.28226,0.7636937,0.6356381,-0.31856743,0.08695082,-0.06390716,0.3292246,0.30838054,0.1522726,0.36361843,-0.07882474,-0.17192407,0.18690722,0.072656356,-0.18832037,-0.16436899,-0.12099045,0.619039,0.56219524,-0.042885456,-0.08527189,0.32051545,0.122690566,0.33843836,4.344134,0.30500025,-0.09822694,-0.18285592,-0.013054808,-0.15157832,0.35278192,-0.28429237,0.048944205,0.3099988,0.00048384495,0.22622898,-0.01871666,0.18250759,-0.06792069,0.24457169,0.40567487,-0.019514339,-0.05392012,0.4942738,-0.3656054,0.22868411,0.28002232,0.29536852,0.4763431,0.3725497,0.04538232,0.61143285,0.6593949,0.51952636,0.21139969,-0.19260192,-0.38136345,0.008396039,0.019880278,0.6130368,-0.23327588,-0.31325692,0.46272054,-0.2026746,-0.05827478,0.2460737,0.17637499,0.5387977,0.44052473,-0.26779014,-0.15734853,0.43421063,0.22595136,0.6589609,0.86792976,0.16107456,-0.4366676,-0.42993572,0.111909285,0.3747778,0.38513073,-0.011858528,-0.3869088,-0.40124097,-0.0036162394,-0.21175261,0.011004023,0.3089077,-0.42964888,-0.5927778,0.18463771,0.14146402,0.19096147,-0.21311937,0.33978817,0.27958134,0.19541107,-0.57303184,-0.38652834,-0.2045014,0.5270988,0.46332917,0.4809774,0.06653129,0.6680034,-0.06560433,0.027442021,-0.089934595,0.06821721,0.5765027,-0.08748027,-0.26842606,0.2971788,0.3216223,0.2831297,0.45008758,0.22620177,-0.03617087,0.37002558,0.20707357,-0.04430422,-3.8043997,0.29955095,0.12313544,-0.15301037,0.19300485,-0.17985289,-0.074166365,0.46408436,-0.61026084,-0.26886803,0.21465488,0.09322501,-0.121005334,0.15738845,-0.11695426,0.1954373,0.05880722,0.54179054,0.34871906,0.029793408,0.4501336,0.8459331,-0.19239363,-0.5138289,-0.32449055,-0.33159372,0.27649385,-0.10168181,0.09916813,0.28162044,0.23353386,-0.2801841,0.40791804,0.30709192,0.11655718,0.38203594,-0.078647934,0.35070977,-0.18174396,0.8776136,0.14697398,0.301787,0.90202004,-0.09912116,0.41962972,0.31998754,0.10787969,0.23577467,-0.5996456,0.009153097,0.17546807,0.46697235,-0.25310034,0.018186552,0.78152466,0.55077636,0.7044806,0.3226859,0.098914124,0.32806793,-0.28571925,-0.14054333,0.2284919,0.14048782,0.1555405,0.1813502,-0.6958259,-0.22546193,-0.07255258,-0.1307523,-0.36626837,0.16058853,0.47928217,-0.41619483,0.18737979,-0.10760392,0.22516473,0.047409195,0.5273214,-0.08302752,0.14326622,0.64907944,-0.3375674,0.08713847,2.7090976,-0.007938623,2.1820374,-0.4517904,-0.27444586,0.22589949,-0.4200261,0.5782209,-0.0811518,0.7484396,0.12907569,0.1993513,-0.31186005,0.12037044,0.10742319,0.122945175,0.42999056,-0.51694,-0.32396647,0.06137028,-0.20442803,0.27781844,0.031993665,0.07811344,0.1637828,-0.4986872,-0.26131716,-0.31840017,0.098065734,-0.14763017,-0.49499717,-0.01857145,0.29921988,-0.06009726,-0.0118142,0.099590555,0.24406065,4.421718,0.017376384,0.17393541,-0.28942436,0.16281585,0.3005279,0.62276024,-0.44804272,-0.47485065,-0.19907233,0.4507272,-0.09987877,0.0416438,0.23560905,-0.13502452,-0.36851698,0.5958819,0.56089836,0.63083297,0.19988862,-0.035936832,-0.012260737,0.16239145,0.06335402,0.14296807,0.24208777,0.81213707,0.65709907,-0.101546526,0.28782496,-0.22099666,5.0735908,0.43484068,-0.12414973,-0.1676308,-0.16092885,0.25178602,0.28346318,0.026432415,-0.28222308,0.05167395,-0.1736927,-0.2607858,0.11774699,0.7157666,0.27580398,0.53740925,-0.18396832,-0.3481452,0.8427194,-0.3333965,0.45492432,0.10702088,0.8513794,-0.47300583,0.36184978,-0.23552023,0.027761811,0.40680322,-0.13809699,0.17049776,0.89012367,-0.052364964,-0.19931427,0.36906084,-1.0353794,-0.18881273,0.117522106,-0.09676723,0.051562842,-0.32428545,0.61769265,0.4796438,-0.6192552,-0.46820238,-0.4003809,-0.19282985,-0.0063106394,-0.100454144,0.22108562,0.0010129602,-0.14495052,-0.46615562,0.67583245,0.0055732406,0.48390478,0.2100915,0.6663508,-0.03803599,-0.02357763,-0.6897368,0.79879516,0.31159583,-0.30705705,0.5012847,-0.01739176,0.3068524,-0.18795525,0.07135279,-0.13153587,0.104873486,-0.46238083,0.54553556,-0.27460295,-0.2044697,-0.096135296,0.1834035,0.089543454,-0.0049704015,0.2375337,0.13073418,0.2866136,-0.35694298,-0.6806098,-0.18046072,0.3463622,0.16808674,-0.10028982,-0.26964214,0.1632155,-0.099806465,0.42008123,0.03320294,-0.25053388,0.032862697,0.18761155,-0.6556342,-0.011550103,0.04644089,-0.055675596,-0.029484933,0.25990808,0.28267,-0.15486267,-0.27349427,0.21251926,0.13442768,-0.4006943,-0.41144028,0.30119452,0.32741526,0.22285643,0.8677818,0.066256054,-0.35641813,-0.081047125]'::vector)
              Buffers: shared hit=1125
        ->  Memoize  (cost=0.29..0.31 rows=1 width=4) (actual time=0.002..0.002 rows=1 loops=10)
              Cache Key: c.user_document_id
              Cache Mode: logical
              Hits: 2  Misses: 8  Evictions: 0  Overflows: 0  Memory Usage: 1kB
              Buffers: shared hit=17
              ->  Index Only Scan using user_documents_pkey on user_documents d  (cost=0.28..0.30 rows=1 width=4) (actual time=0.002..0.002 rows=1 loops=8)
                    Index Cond: (id = c.user_document_id)
                    Heap Fetches: 0
                    Buffers: shared hit=17
Planning:
  Buffers: shared hit=13
Planning Time: 0.123 ms
Execution Time: 0.832 ms

TIMING SUMMARY:
----------------------------------------
Planning Time: 7.146 ms
Execution Time: 1.326 ms
Total Time: 8.472 ms
